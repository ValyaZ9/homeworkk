def instances_counter(cls):
    class Wrapper:
        count = 0

        def __init__(self, *args, **kwargs):
            self.__class__.count += 1
            self.wrapped = cls(*args, **kwargs)

        def __getattr__(self, name):
            return getattr(self.wrapped, name)

        @classmethod
        def get_created_instances(cls):
            return cls.count

        @classmethod
        def reset_instances_counter(cls):
            count = cls.count
            cls.count = 0
            return count

    return Wrapper


@instances_counter
class User:
    def __init__(self, name):
        self.name = name


user1 = User('Alice')
user2 = User('Bob')
user3 = User('Charlie')

print(User.get_created_instances())  # 3
print(user1.get_created_instances())  # 3
print(user2.reset_instances_counter())  # 3
print(User.get_created_instances())  # 0
